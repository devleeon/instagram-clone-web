[{"/media/leeon/coding/instagram-clone/web/src/Components/App.js":"1","/media/leeon/coding/instagram-clone/web/src/Styles/GlobalStyles.js":"2","/media/leeon/coding/instagram-clone/web/src/Styles/Theme.js":"3","/media/leeon/coding/instagram-clone/web/src/Components/FeedActions.js":"4","/media/leeon/coding/instagram-clone/web/src/Routes/Feed.js":"5","/media/leeon/coding/instagram-clone/web/src/Routes/Direct.js":"6","/media/leeon/coding/instagram-clone/web/src/Routes/EditProfile.js":"7","/media/leeon/coding/instagram-clone/web/src/Components/Icons.js":"8","/media/leeon/coding/instagram-clone/web/src/Components/SharedQueries.js":"9","/media/leeon/coding/instagram-clone/web/src/Routes/FeedStory.js":"10","/media/leeon/coding/instagram-clone/web/src/Hooks/useInput.js":"11","/media/leeon/coding/instagram-clone/web/src/Routes/Auth/AuthQueries.js":"12","/media/leeon/coding/instagram-clone/web/src/Components/Input.js":"13","/media/leeon/coding/instagram-clone/web/src/Apollo/LocalState.js":"14","/media/leeon/coding/instagram-clone/web/src/Routes/Auth/index.js":"15","/media/leeon/coding/instagram-clone/web/src/Components/Footer.js":"16","/media/leeon/coding/instagram-clone/web/src/Hooks/useWidth.js":"17","/media/leeon/coding/instagram-clone/web/src/Routes/Auth/AuthPresenter.js":"18","/media/leeon/coding/instagram-clone/web/src/Components/Router.js":"19","/media/leeon/coding/instagram-clone/web/src/Apollo/Client.js":"20","/media/leeon/coding/instagram-clone/web/src/Routes/Explore.js":"21","/media/leeon/coding/instagram-clone/web/src/Routes/Post/index.js":"22","/media/leeon/coding/instagram-clone/web/src/Routes/Auth/AuthContainer.js":"23","/media/leeon/coding/instagram-clone/web/src/Routes/Post/PostContainer.js":"24","/media/leeon/coding/instagram-clone/web/src/Components/Button.js":"25","/media/leeon/coding/instagram-clone/web/src/Components/Loader.js":"26","/media/leeon/coding/instagram-clone/web/src/Components/Avatar.js":"27","/media/leeon/coding/instagram-clone/web/src/Routes/Profile/ProfileStyles.js":"28","/media/leeon/coding/instagram-clone/web/src/Routes/Profile/Saved.js":"29","/media/leeon/coding/instagram-clone/web/src/Routes/Profile/Posted.js":"30","/media/leeon/coding/instagram-clone/web/src/Routes/Profile/ProfileNav.js":"31","/media/leeon/coding/instagram-clone/web/src/index.js":"32","/media/leeon/coding/instagram-clone/web/src/Routes/Profile/ProfilePosts.js":"33","/media/leeon/coding/instagram-clone/web/src/Routes/Profile/index.js":"34","/media/leeon/coding/instagram-clone/web/src/Routes/Profile/ProfileHeader.js":"35","/media/leeon/coding/instagram-clone/web/src/Components/Util.js":"36","/media/leeon/coding/instagram-clone/web/src/Routes/Post/PostHeader.js":"37","/media/leeon/coding/instagram-clone/web/src/Routes/Post/PostAddComment.js":"38","/media/leeon/coding/instagram-clone/web/src/Routes/Post/PostPhotos.js":"39","/media/leeon/coding/instagram-clone/web/src/Routes/Post/PostIcons.js":"40","/media/leeon/coding/instagram-clone/web/src/Components/Header/AvatarMenu.js":"41","/media/leeon/coding/instagram-clone/web/src/Components/Header/SearchMenu.js":"42","/media/leeon/coding/instagram-clone/web/src/Components/Header/SearchInput.js":"43","/media/leeon/coding/instagram-clone/web/src/Components/Header/Styles.js":"44","/media/leeon/coding/instagram-clone/web/src/Components/Header/index.js":"45","/media/leeon/coding/instagram-clone/web/src/Routes/CreatePost.js":"46","/media/leeon/coding/instagram-clone/web/src/Components/Header/NotificationMenu.js":"47","/media/leeon/coding/instagram-clone/web/src/Styles/Username.js":"48","/media/leeon/coding/instagram-clone/web/src/Styles/Divider.js":"49","/media/leeon/coding/instagram-clone/web/src/Components/Header/HeaderContainer.js":"50"},{"size":1357,"mtime":1614269759480,"results":"51","hashOfConfig":"52"},{"size":718,"mtime":1612889807209,"results":"53","hashOfConfig":"52"},{"size":609,"mtime":1614061171255,"results":"54","hashOfConfig":"55"},{"size":607,"mtime":1612891556677,"results":"56","hashOfConfig":"55"},{"size":5282,"mtime":1614268929872,"results":"57","hashOfConfig":"55"},{"size":2362,"mtime":1614439366957,"results":"58","hashOfConfig":"55"},{"size":84,"mtime":1610200542749,"results":"59","hashOfConfig":"55"},{"size":6041,"mtime":1613205479720,"results":"60","hashOfConfig":"55"},{"size":604,"mtime":1614320397234,"results":"61","hashOfConfig":"55"},{"size":405,"mtime":1611510925830,"results":"62","hashOfConfig":"55"},{"size":295,"mtime":1611994603881,"results":"63","hashOfConfig":"55"},{"size":1226,"mtime":1613973250869,"results":"64","hashOfConfig":"55"},{"size":801,"mtime":1614180263361,"results":"65","hashOfConfig":"55"},{"size":2543,"mtime":1614316980476,"results":"66","hashOfConfig":"55"},{"size":76,"mtime":1611107830684,"results":"67","hashOfConfig":"55"},{"size":3064,"mtime":1612286845302,"results":"68","hashOfConfig":"55"},{"size":492,"mtime":1611776768049,"results":"69","hashOfConfig":"55"},{"size":6590,"mtime":1614180361422,"results":"70","hashOfConfig":"52"},{"size":1457,"mtime":1614316621304,"results":"71","hashOfConfig":"55"},{"size":1602,"mtime":1613815595427,"results":"72","hashOfConfig":"55"},{"size":105,"mtime":1612273248455,"results":"73","hashOfConfig":"52"},{"size":1530,"mtime":1614489627613,"results":"74","hashOfConfig":"55"},{"size":5913,"mtime":1614180195461,"results":"75","hashOfConfig":"55"},{"size":9405,"mtime":1614510236845,"results":"76","hashOfConfig":"55"},{"size":605,"mtime":1611424594298,"results":"77","hashOfConfig":"55"},{"size":570,"mtime":1612041624227,"results":"78","hashOfConfig":"55"},{"size":1025,"mtime":1614320486971,"results":"79","hashOfConfig":"55"},{"size":482,"mtime":1613795442228,"results":"80","hashOfConfig":"55"},{"size":1492,"mtime":1613532891535,"results":"81","hashOfConfig":"55"},{"size":1354,"mtime":1613533854961,"results":"82","hashOfConfig":"55"},{"size":1685,"mtime":1614055142257,"results":"83","hashOfConfig":"55"},{"size":307,"mtime":1612724494472,"results":"84","hashOfConfig":"55"},{"size":1174,"mtime":1613532591679,"results":"85","hashOfConfig":"55"},{"size":3056,"mtime":1614003345502,"results":"86","hashOfConfig":"52"},{"size":5739,"mtime":1614320567596,"results":"87","hashOfConfig":"55"},{"size":735,"mtime":1613821298202,"results":"88","hashOfConfig":"55"},{"size":2683,"mtime":1614272806518,"results":"89","hashOfConfig":"55"},{"size":1611,"mtime":1614060262342,"results":"90","hashOfConfig":"55"},{"size":3238,"mtime":1614181538239,"results":"91","hashOfConfig":"55"},{"size":2715,"mtime":1614064505260,"results":"92","hashOfConfig":"55"},{"size":1600,"mtime":1614061272344,"results":"93","hashOfConfig":"55"},{"size":2019,"mtime":1614320841587,"results":"94","hashOfConfig":"55"},{"size":3632,"mtime":1614056829171,"results":"95","hashOfConfig":"55"},{"size":153,"mtime":1613834976204,"results":"96","hashOfConfig":"55"},{"size":64,"mtime":1614318067753,"results":"97","hashOfConfig":"55"},{"size":6592,"mtime":1614278058686,"results":"98","hashOfConfig":"55"},{"size":668,"mtime":1614056858392,"results":"99","hashOfConfig":"55"},{"size":120,"mtime":1614136646501,"results":"100","hashOfConfig":"52"},{"size":194,"mtime":1614061167935,"results":"101","hashOfConfig":"55"},{"size":6653,"mtime":1614318118022,"results":"102","hashOfConfig":"55"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1w2vdk",{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"107"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},"hbi77v",{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"110"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"144"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"176","messages":"177","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178","usedDeprecatedRules":"144"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"197","usedDeprecatedRules":"110"},{"filePath":"198","messages":"199","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"200","messages":"201","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"202","messages":"203","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"204","messages":"205","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"208","messages":"209","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/media/leeon/coding/instagram-clone/web/src/Components/App.js",["212","213"],"/media/leeon/coding/instagram-clone/web/src/Styles/GlobalStyles.js",[],["214","215"],"/media/leeon/coding/instagram-clone/web/src/Styles/Theme.js",[],["216","217"],"/media/leeon/coding/instagram-clone/web/src/Components/FeedActions.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Feed.js",["218"],"import { gql, useQuery } from \"@apollo/client\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport Avatar, { MyAvatar } from \"../Components/Avatar\";\nimport Footer from \"../Components/Footer\";\nimport Loader from \"../Components/Loader\";\nimport { ME } from \"../Components/SharedQueries\";\nimport useWidth from \"../Hooks/useWidth\";\nimport FeedStory from \"./FeedStory\";\nimport Post from \"./Post\";\n\nconst FEED_QUERY = gql`\n  query getFeed($limit: Int!, $offset: Int) {\n    getFeed(limit: $limit, offset: $offset) {\n      id\n      caption\n      isLiked\n      createdAt\n      location\n      isSaved\n      hasMoreComments\n      numberOfComments\n      comments {\n        text\n        user {\n          username\n        }\n        createdAt\n        id\n      }\n      likes {\n        id\n        user {\n          username\n        }\n      }\n      photos {\n        id\n        tagged {\n          user {\n            username\n          }\n        }\n        url\n      }\n      numberOfLikes\n      user {\n        avatar\n        amIFollowing\n        username\n      }\n    }\n  }\n`;\n\nconst Wrapper = styled.section`\n  padding-top: ${(props) => {\n    if (props.width < 640) {\n      return `0;`;\n    } else {\n      return `30px;`;\n    }\n  }};\n  max-width: ${(props) => props.theme.maxWidth};\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  vertical-align: top;\n`;\nconst FeedPage = styled.div`\n  max-width: ${(props) => props.theme.postMaxWidth};\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  ${(props) => {\n    if (props.width < 1000) {\n      return `margin:auto;`;\n    } else {\n      return `margin-right: 28px;`;\n    }\n  }}\n`;\nconst Etc = styled.div`\n  ${(props) => props.theme.whiteBox};\n  max-width: 290px;\n  background-color: ${(props) => props.theme.bgColor};\n  border: 0;\n  position: fixed;\n  left: ${(props) => props.width / 2 + 170}px;\n  top: 88px;\n`;\nconst Me = styled.div`\n  margin-top: 20px;\n  display: flex;\n  flex-direction: row;\n  vertical-align: center;\n  align-items: center;\n`;\nconst MeInfo = styled.div`\n  margin-left: 20px;\n  display: flex;\n  flex-direction: column;\n`;\nconst MeUsername = styled.div`\n  font-weight: 600;\n  font-size: 16px;\n`;\nconst MeName = styled.div`\n  font-size: 18px;\n  color: ${(props) => props.theme.darkGreyColor};\n  font-weight: 300;\n`;\nconst LinkWrapper = styled(Link)`\n  color: black;\n`;\nfunction Feed() {\n  const [limit, setLimit] = useState(5);\n  const [hasMore, setHasMore] = useState(true);\n  const { loading, data, fetchMore } = useQuery(FEED_QUERY, {\n    variables: { limit, offset: 0 },\n    fetchPolicy: \"no-cache\",\n  });\n  const { data: meData } = useQuery(ME);\n  const width = useWidth();\n  // const handleScroll = () => {\n  //   const scrollHeight = document.documentElement.scrollHeight;\n  //   const scrollTop = document.documentElement.scrollTop;\n  //   const clientHeight = document.documentElement.clientHeight;\n  //   if (scrollTop + clientHeight >= scrollHeight && loading === false) {\n  //   }\n  // };\n  // useEffect(() => {\n  //   // scroll event listener 등록\n  //   window.addEventListener(\"scroll\", handleScroll);\n  //   return () => {\n  //     // scroll event listener 해제\n  //     window.removeEventListener(\"scroll\", handleScroll);\n  //   };\n  // });\n  if (loading || !data || !meData) {\n    return <Loader />;\n  } else {\n    const { getFeed } = data;\n    const { me } = meData;\n    if (getFeed.length > 5) {\n      setHasMore(true);\n    }\n    return (\n      <>\n        <Wrapper width={width}>\n          <FeedPage width={width}>\n            <FeedStory />\n            {getFeed.length > 0\n              ? getFeed.map((post, index) => {\n                  return <Post key={index} id={post.id} />;\n                })\n              : \"There is NO post to show. Let's post something\"}\n            {hasMore && (\n              <button\n                onClick={() => {\n                  const currentLength = getFeed.length;\n                  fetchMore({\n                    variables: {\n                      offset: currentLength,\n                      limit: 5,\n                    },\n                  }).then(({ data: { getFeed } }) => {\n                    // Update variables.limit for the original query to include\n                    // the newly added feed items.\n                    if (getFeed.length < limit) {\n                      setHasMore(false);\n                    }\n                    setLimit(currentLength + getFeed.length);\n                  });\n                }}\n              >\n                load more\n              </button>\n            )}\n          </FeedPage>\n          {width < 1000 ? null : (\n            <Etc width={width}>\n              <Me>\n                <LinkWrapper to={`/${me.username}`}>\n                  <MyAvatar size={56} />\n                </LinkWrapper>\n                <MeInfo>\n                  <LinkWrapper to={`/${me.username}`}>\n                    <MeUsername>{me.username}</MeUsername>\n                  </LinkWrapper>\n                  <MeName>{me.fullname}</MeName>\n                </MeInfo>\n              </Me>\n              <Footer feed={true} />\n            </Etc>\n          )}\n        </Wrapper>\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default Feed;\n","/media/leeon/coding/instagram-clone/web/src/Routes/Direct.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/EditProfile.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Icons.js",[],["219","220"],"/media/leeon/coding/instagram-clone/web/src/Components/SharedQueries.js",[],["221","222"],"/media/leeon/coding/instagram-clone/web/src/Routes/FeedStory.js",[],"/media/leeon/coding/instagram-clone/web/src/Hooks/useInput.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Auth/AuthQueries.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Input.js",[],"/media/leeon/coding/instagram-clone/web/src/Apollo/LocalState.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Auth/index.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Footer.js",[],"/media/leeon/coding/instagram-clone/web/src/Hooks/useWidth.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Auth/AuthPresenter.js",[],["223","224"],"/media/leeon/coding/instagram-clone/web/src/Components/Router.js",[],"/media/leeon/coding/instagram-clone/web/src/Apollo/Client.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Explore.js",[],["225","226"],"/media/leeon/coding/instagram-clone/web/src/Routes/Post/index.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Auth/AuthContainer.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Post/PostContainer.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Button.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Loader.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Avatar.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Profile/ProfileStyles.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Profile/Saved.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Profile/Posted.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Profile/ProfileNav.js",[],"/media/leeon/coding/instagram-clone/web/src/index.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Profile/ProfilePosts.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Profile/index.js",["227","228"],"import { gql, useQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport Footer from \"../../Components/Footer\";\nimport Loader from \"../../Components/Loader\";\nimport Posted from \"./Posted\";\nimport ProfileHeader from \"./ProfileHeader\";\nimport ProfileNav from \"./ProfileNav\";\nimport { Posts, Wrapper } from \"./ProfileStyles\";\nimport Saved from \"./Saved\";\n\nexport const PROFILE = gql`\n  query seeProfile($username: String!) {\n    seeProfile(username: $username) {\n      id\n      avatar\n      fullname\n      bio\n      isSelf\n      numberOfFollowers\n      numberOfFollowings\n      numberOfPosts\n      amIFollowing\n    }\n  }\n`;\n\nfunction Profile() {\n  const { username } = useParams();\n  const { pathname } = useLocation();\n  const [limit, setLimit] = useState(21);\n  const [location, setLocation] = useState(`home`);\n  const { data, loading } = useQuery(PROFILE, {\n    variables: { username },\n    fetchPolicy: \"no-cache\",\n  });\n\n  useEffect(() => {\n    switch (pathname) {\n      case `/${username}/tagged`:\n        setLocation(\"tagged\");\n        break;\n      case `/${username}/channel`:\n        setLocation(\"channel\");\n        break;\n      case `/${username}/saved`:\n        setLocation(\"saved\");\n        break;\n      default:\n        setLocation(\"home\");\n        break;\n    }\n    return () => {};\n  }, [username, pathname, loading, data]);\n\n  //render\n  if (loading || !data) {\n    return <Loader />;\n  } else {\n    const { seeProfile } = data;\n    return (\n      <>\n        <Helmet>\n          <title>\n            {seeProfile.fullname\n              ? `${seeProfile.fullname}(@${username})`\n              : `@${username}`}\n          </title>\n        </Helmet>\n        <Wrapper>\n          {\n            <>\n              <ProfileHeader\n                username={username}\n                avatar={seeProfile.avatar}\n                fullname={seeProfile.fullname}\n                bio={seeProfile.bio}\n                isSelf={seeProfile.isSelf}\n                numberOfFollowers={seeProfile.numberOfFollowers}\n                numberOfFollowings={seeProfile.numberOfFollowings}\n                numberOfPosts={seeProfile.numberOfPosts}\n                followTrue={seeProfile.amIFollowing}\n              />\n              <ProfileNav\n                username={username}\n                setLocation={setLocation}\n                location={location}\n                isSelf={seeProfile.isSelf}\n              />\n\n              <Posts>\n                {location === \"home\" && <Posted username={username} />}\n                {location === \"channel\" && <div>channel</div>}\n                {location === \"saved\" && seeProfile.isSelf && (\n                  <Saved username={username} />\n                )}\n                {location === \"tagged\" && <div>tagged</div>}\n              </Posts>\n              {/* todo infinite scroll */}\n            </>\n          }\n        </Wrapper>\n        <Footer />\n      </>\n    );\n  }\n}\nexport default Profile;\n","/media/leeon/coding/instagram-clone/web/src/Routes/Profile/ProfileHeader.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Util.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Post/PostHeader.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Post/PostAddComment.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Post/PostPhotos.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/Post/PostIcons.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Header/AvatarMenu.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Header/SearchMenu.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Header/SearchInput.js",["229"],"import { gql, useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport useInput from \"../../Hooks/useInput\";\nimport SearchMenu from \"./SearchMenu\";\nimport { Menu } from \"./Styles\";\n\nconst SEARCH = gql`\n  query searchUsers($query: String!) {\n    searchUsers(query: $query) {\n      username\n      avatar\n      fullname\n    }\n  }\n`;\nconst SearchBoxCover = styled.div`\n  ${(props) => props.theme.whiteBox}\n  background-color: ${(props) => props.theme.bgColor};\n  height: 28px;\n  width: 215px;\n  margin: auto;\n  flex: 0 1 auto;\n  display: flex;\n  padding: 0;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  cursor: text;\n`;\nconst SearchText = styled.div`\n  justify-content: center;\n  text-align: center;\n  width: 170px;\n  display: ${(props) => {\n    return props.showing ? `block` : `none`;\n  }};\n`;\nconst SearchBox = styled.input`\n  border: 0;\n  background-color: ${(props) => props.theme.bgColor};\n  height: 25px;\n  width: 170px;\n  margin: auto;\n  display: ${(props) => {\n    return props.showing ? `block` : `none`;\n  }};\n  position: absolute;\n  font-size: 12px;\n  z-index: 3;\n`;\nconst CancelSearch = styled.button`\n  display: ${(props) => {\n    return props.showing ? `flex` : `none`;\n  }};\n  align-self: flex-end;\n  transform: translate(-50%);\n  border: 0;\n  border-radius: 50%;\n  background-color: ${(props) => props.theme.darkGreyColor};\n  color: white;\n  font-weight: 700;\n  z-index: 3;\n  cursor: pointer;\n  :focus {\n    outline: none;\n  }\n`;\nfunction SearchInput() {\n  const searchInput = useInput(\"\");\n  const searchInputRef = useRef();\n  const [search, setSearch] = useState(false);\n  const [searchMenu, setSearchMenu] = useState(false);\n  const [searchUsers, { data, loading }] = useLazyQuery(SEARCH, {\n    variables: {\n      query: searchInput.value,\n    },\n  });\n  const HandleOnChange = (e) => {\n    if (e.target.value === \"\") {\n      setSearchMenu(false);\n    } else if (search) {\n      setSearchMenu(true);\n      searchUsers();\n    }\n    searchInput.onChange(e);\n  };\n  useEffect(() => {\n    const handleSearch = (e) => {\n      if (!searchInputRef.current.contains(e.target)) {\n        setSearch(false);\n        setSearchMenu(false);\n      }\n    };\n    const hadleLoad = () => {\n      searchInput.setValue(\"\");\n    };\n    if (search) {\n      window.addEventListener(\"click\", handleSearch);\n      searchInputRef.current.focus();\n    }\n    if (searchInput.value) window.addEventListener(\"popstate\", hadleLoad);\n    return () => {\n      if (search) window.removeEventListener(\"click\", handleSearch);\n      if (searchInput.value) window.removeEventListener(\"popstate\", hadleLoad);\n    };\n  }, [search, searchInput]);\n  return (\n    <SearchBoxCover\n      onClick={() => {\n        setSearch(true);\n        if (searchInput.value !== \"\") {\n          setSearchMenu(true);\n        }\n      }}\n    >\n      <SearchText showing={!search}>\n        {searchInput.value === \"\" ? \"SEARCH\" : `${searchInput.value}`}\n      </SearchText>\n      <SearchBox\n        ref={searchInputRef}\n        showing={search}\n        placeholder=\"search\"\n        value={searchInput.value}\n        onChange={HandleOnChange}\n      />\n      <CancelSearch\n        showing={search}\n        onClick={() => {\n          setSearch(false);\n          searchInput.setValue(\"\");\n        }}\n      >\n        x\n      </CancelSearch>\n      <Menu showing={searchMenu}>\n        {data && !loading && <SearchMenu users={data.searchUsers} />}\n      </Menu>\n    </SearchBoxCover>\n  );\n}\n\nexport default SearchInput;\n","/media/leeon/coding/instagram-clone/web/src/Components/Header/Styles.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Header/index.js",[],"/media/leeon/coding/instagram-clone/web/src/Routes/CreatePost.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Header/NotificationMenu.js",[],"/media/leeon/coding/instagram-clone/web/src/Styles/Username.js",[],"/media/leeon/coding/instagram-clone/web/src/Styles/Divider.js",[],"/media/leeon/coding/instagram-clone/web/src/Components/Header/HeaderContainer.js",[],{"ruleId":"230","severity":1,"message":"231","line":1,"column":10,"nodeType":"232","messageId":"233","endLine":1,"endColumn":13},{"ruleId":"230","severity":1,"message":"234","line":1,"column":15,"nodeType":"232","messageId":"233","endLine":1,"endColumn":23},{"ruleId":"235","replacedBy":"236"},{"ruleId":"237","replacedBy":"238"},{"ruleId":"235","replacedBy":"239"},{"ruleId":"237","replacedBy":"240"},{"ruleId":"230","severity":1,"message":"241","line":5,"column":8,"nodeType":"232","messageId":"233","endLine":5,"endColumn":14},{"ruleId":"235","replacedBy":"242"},{"ruleId":"237","replacedBy":"243"},{"ruleId":"235","replacedBy":"244"},{"ruleId":"237","replacedBy":"245"},{"ruleId":"235","replacedBy":"246"},{"ruleId":"237","replacedBy":"247"},{"ruleId":"235","replacedBy":"248"},{"ruleId":"237","replacedBy":"249"},{"ruleId":"230","severity":1,"message":"250","line":32,"column":10,"nodeType":"232","messageId":"233","endLine":32,"endColumn":15},{"ruleId":"230","severity":1,"message":"251","line":32,"column":17,"nodeType":"232","messageId":"233","endLine":32,"endColumn":25},{"ruleId":"230","severity":1,"message":"252","line":3,"column":10,"nodeType":"232","messageId":"233","endLine":3,"endColumn":21},"no-unused-vars","'gql' is defined but never used.","Identifier","unusedVar","'useQuery' is defined but never used.","no-native-reassign",["253"],"no-negated-in-lhs",["254"],["253"],["254"],"'Avatar' is defined but never used.",["253"],["254"],["253"],["254"],["253"],["254"],["253"],["254"],"'limit' is assigned a value but never used.","'setLimit' is assigned a value but never used.","'useLocation' is defined but never used.","no-global-assign","no-unsafe-negation"]